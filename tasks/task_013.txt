# Task ID: 13
# Title: Add Action Buttons and Client Value Projection
# Status: pending
# Dependencies: 2, 3
# Priority: medium
# Description: Implement quick action buttons and client lifetime value projection chart on the Client Profile page.
# Details:
Create Action Buttons for quick actions: Add Contact, Link Bank Feed, Request Document, Schedule Audit, and Archive Client (with confirmation modal). Implement Client Lifetime Value Projection with a small predictive chart forecasting next year's fees based on past trends. Use useAbility() to gate the Archive Client action with clients.archive permission.

# Test Strategy:
Test all action buttons for correct behavior. Verify Archive Client confirmation modal works properly. Test permission gating for restricted actions. Check projection chart calculations for accuracy.

# Subtasks:
## 1. Implement Quick Action Buttons with Permission Gating [pending]
### Dependencies: None
### Description: Create UI components for quick action buttons: Add Contact, Link Bank Feed, Request Document, Schedule Audit, and Archive Client. Ensure the Archive Client button is gated using useAbility() to check for the clients.archive permission, and display a confirmation modal before proceeding with the archive action.
### Details:
Add each action button to the client interface, wiring up their respective handlers. For the Archive Client button, use the useAbility() hook to conditionally render the button based on the user's clients.archive permission. Implement a confirmation modal that appears when Archive Client is clicked, requiring user confirmation before executing the archive logic.

## 2. Aggregate and Prepare Data for Client Lifetime Value Projection [pending]
### Dependencies: 13.1
### Description: Collect and process historical client transaction data to calculate key metrics needed for lifetime value projection, such as frequency, recency, monetary value, and observation period. Prepare this data for use in the predictive model.
### Details:
Extract transaction data for each client and aggregate it into an RFM (Recency, Frequency, Monetary value) summary table. Use utility functions or packages (e.g., lifetimes in Python, or equivalent in your stack) to compute these metrics. Ensure the data is formatted and accessible for the predictive chart component.

## 3. Implement Client Lifetime Value Projection Chart [pending]
### Dependencies: 13.2
### Description: Develop and integrate a predictive chart that forecasts next year's client fees based on historical trends and the prepared data. Visualize the projected client lifetime value in a clear, concise chart within the client interface.
### Details:
Use the aggregated RFM data to feed a predictive model (such as BG/NBD and Gamma-Gamma, or a simplified ARPU/churn-based approach) to estimate next year's client fees. Render the results in a small chart (e.g., line or bar chart) using a charting library. Place the chart in the client view, ensuring it updates dynamically as new data becomes available.

